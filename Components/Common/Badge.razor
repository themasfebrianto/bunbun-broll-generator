@namespace BunbunBroll.Components.Common

<span class="@GetBadgeClasses()" @attributes="AdditionalAttributes">
    @if (!string.IsNullOrEmpty(Icon))
    {
        <Icon Name="@Icon" Size="14" Class="mr-1" />
    }
    @ChildContent
</span>

@code {
    [Parameter] public string Variant { get; set; } = "default"; // default, primary, secondary, success, warning, destructive, outline
    [Parameter] public string? Icon { get; set; }
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter(CaptureUnmatchedValues = true)] public Dictionary<string, object>? AdditionalAttributes { get; set; }

    private string GetBadgeClasses()
    {
        var baseClasses = "inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium transition-colors";
        
        var variantClasses = Variant.ToLowerInvariant() switch
        {
            "primary" => "bg-primary/10 text-primary border border-primary/20",
            "secondary" => "bg-secondary text-secondary-foreground",
            "success" => "bg-success/10 text-success border border-success/20",
            "warning" => "bg-warning/15 text-warning border border-warning/30",
            "destructive" => "bg-destructive/10 text-destructive border border-destructive/20",
            "outline" => "border border-border bg-transparent text-foreground",
            "ghost" => "bg-transparent text-muted-foreground",
            "mono" => "font-mono text-[11px] tracking-tight bg-muted text-muted-foreground",
            _ => "bg-muted text-muted-foreground"
        };
        
        return $"{baseClasses} {variantClasses}";
    }
}
