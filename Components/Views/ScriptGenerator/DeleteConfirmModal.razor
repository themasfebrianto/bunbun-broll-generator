@namespace BunbunBroll.Components.Views.ScriptGenerator
@using BunbunBroll.Models

<Modal IsVisible="IsVisible"
       Title="Hapus Script?"
       Size="sm"
       ShowCloseButton="false"
       OnClose="OnCancel">
    <ChildContent>
        <p class="text-sm text-muted-foreground">
            Script "<span class="font-medium text-foreground">@Target?.Topic</span>" akan dihapus beserta semua file-nya.
        </p>
    </ChildContent>
    <FooterContent>
        <button class="btn-secondary flex-1" @onclick="OnCancel">Batal</button>
        <button class="btn-primary flex-1 !bg-destructive hover:!bg-destructive/90"
                disabled="@IsDeleting"
                @onclick="OnConfirm">
            @if (IsDeleting)
            {
                <Icon Name="spinner" Size="16" Class="animate-spin mr-1 inline-block" />
            }
            Hapus
        </button>
    </FooterContent>
</Modal>

@code {
    [Parameter] public bool IsVisible { get; set; }
    [Parameter] public bool IsDeleting { get; set; }
    [Parameter] public ScriptGenerationSession? Target { get; set; }
    [Parameter] public EventCallback OnCancel { get; set; }
    [Parameter] public EventCallback OnConfirm { get; set; }
}
